{"version":3,"sources":["utils/Api.js","images/header__logo.svg","components/Header.js","components/Footer.js","images/Trash.svg","context/CurrentUserContext.js","components/Card.js","components/Main.js","components/PopupWithForm.js","components/AddCardPopup.js","components/EditProfilePopup.js","components/AvatarPopup.js","components/ImagePopup.js","components/App.js","reportWebVitals.js","index.js"],"names":["api","baseUrl","headers","this","_baseUrl","_headers","res","ok","json","Promise","reject","status","fetch","then","_checkRequestResult","id","method","cardId","isLiked","like","dislike","name","link","body","JSON","stringify","about","av_link","avatar","authorization","Header","className","src","headerLogo","alt","Footer","CurrentUserContext","React","createContext","Card","props","currentUser","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","likes","some","i","cardLikeButtonClassName","onClick","onCardClick","onCardDelete","trash","type","onCardLike","Main","onEditAvatar","onEditProfile","onAddPlace","cards","map","length","PopupWithForm","isOpen","onClose","title","noValidate","onSubmit","children","buttonText","AddCardPopup","useState","place","setPlace","setLink","e","preventDefault","placeholder","minLength","maxLength","required","value","onChange","target","EditProfilePopup","setName","description","setDescription","useEffect","onUpdateUser","AvatarPopup","ref","useRef","onUpdateAvatar","current","ImagePopup","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isImagePopupOpen","setIsImagePopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","overlayClick","classList","contains","closeAllPopups","getInitialCards","catch","err","console","log","getUserData","user","window","addEventListener","key","Provider","likeCardStatus","newCard","newCards","c","deleteCard","filter","overlay","postCard","updateAvatar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.e8de368c.chunk.js","sourcesContent":["class Api {\n  constructor({ baseUrl, headers }) {\n    this._baseUrl = baseUrl;\n    this._headers = headers;\n  }\n\n  _checkRequestResult(res) {\n    if (res.ok) {\n      return res.json()\n    }\n    return Promise.reject(res.status)\n  }\n\n  getUserData() {\n    return fetch(`${this._baseUrl}/users/me`, {\n      headers: this._headers\n    })\n      .then(this._checkRequestResult)\n  }\n\n  getInitialCards() {\n    return fetch(`${this._baseUrl}/cards`, {\n      headers: this._headers\n    })\n      .then(this._checkRequestResult)\n  }\n\n\n  likeCard(id, method) {\n    return fetch(`${this._baseUrl}/cards/likes/${id}`, {\n      method: `${method}`,\n      headers: this._headers,\n    })\n      .then(this._checkRequestResult)\n  }\n\n  likeCardStatus(cardId, isLiked) {\n    return isLiked ? this.like(cardId) : this.dislike(cardId);\n  }\n\n  postCard(name, link) {\n    return fetch(`${this._baseUrl}/cards`, {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: `${name}`,\n        link: `${link}`\n      })\n    })\n      .then(this._checkRequestResult)\n  }\n\n  deleteCard(id) {\n    return fetch(`${this._baseUrl}/cards/${id}`, {\n      method: `DELETE`,\n      headers: this._headers,\n    })\n      .then(this._checkRequestResult)\n  }\n\n  updateUserData(name, about) {\n    return fetch(`${this._baseUrl}/users/me`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: `${name}`,\n        about: `${about}`\n      })\n    })\n      .then(this._checkRequestResult)\n  }\n\n  updateAvatar(av_link) {\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: av_link,\n      }),\n    }).then(this._checkRequestResult);\n  }\n}\n\nconst api = new Api({\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-26',\n  headers: {\n      authorization: '46e8784b-6100-4cb8-864a-061229038de1',\n      'Content-Type': 'application/json',\n  }\n});\n\nexport default api;\n","export default __webpack_public_path__ + \"static/media/header__logo.6129e9de.svg\";","import headerLogo from '../images/header__logo.svg';\n\nfunction Header() {\n  return (\n    <header className=\"header\">\n          <img src={headerLogo} alt=\"Логотип\" className=\"header__logo\" />\n    </header>\n  )\n}\n\nexport default Header;\n","function Footer() {\n  return(\n    <footer className=\"footer\">\n          <p className=\"footer__copyright\">&copy; 2020 Mesto Russia</p>\n    </footer>\n  )\n}\n\nexport default Footer;\n","export default __webpack_public_path__ + \"static/media/Trash.e3c42771.svg\";","import React from 'react';\n\nexport const CurrentUserContext = React.createContext();\n","import trash from '../images/Trash.svg';\nimport React from 'react';\nimport { CurrentUserContext } from '../context/CurrentUserContext';\n\nfunction Card(props) {\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n  const isOwn = props.card.owner._id === currentUser._id;\n  const cardDeleteButtonClassName = (`card__trash ${isOwn ? 'card__trash': 'card__trash_hidden'}`);\n\n  const isLiked = props.card.likes.some(i => i._id === currentUser._id);\n  const cardLikeButtonClassName = (`card__like ${isLiked ? 'card__like_active' : ''}`);\n\n  const handleClick = () => {\n    props.onCardClick(props.card)\n  }\n\n  const handleLikeClick = () => {\n    props.onCardLike(props.card)\n  }\n\n  function handleDeleteClick() {\n    props.onCardDelete(props.card._id);\n  }\n\n  return(\n    <figure className=\"card\">\n      <img src={props.link} alt={props.name} className=\"card__image\" onClick={handleClick}/>\n      {isOwn && (\n        <button className={cardDeleteButtonClassName} onClick={handleDeleteClick}>\n          <img src={trash} alt=\"delete\"/>\n        </button>\n      )}\n      <figcaption className=\"card__description\">\n        <h2 className=\"card__title\">{props.name}</h2>\n        <div className=\"card__like-place\">\n          <button type=\"submit\" className={cardLikeButtonClassName} onClick={handleLikeClick}></button>\n          <span className=\"card__like-count\">{props.like}</span>\n        </div>\n      </figcaption>\n    </figure>\n  )\n}\n\nexport default Card;\n","import React from \"react\";\nimport Card from \"./Card\";\nimport { CurrentUserContext } from \"../context/CurrentUserContext\";\n\nfunction Main(props) {\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return(\n    <main className=\"container\">\n      <section className=\"profile\">\n        <div className=\"profile__avatar\">\n          <img src={currentUser ? currentUser.avatar : null} alt=\"Аватарка\" className=\"profile__image\" onClick={props.onEditAvatar} />\n        </div>\n        <div className=\"profile__info\">\n          <div className=\"profile__block\">\n            <h1 className=\"profile__name\">{currentUser ? currentUser.name : null}</h1>\n            <button type=\"button\" className=\"profile__edit-button\" onClick={props.onEditProfile}></button>\n          </div>\n          <p className=\"profile__description\">{currentUser ? currentUser.about : null}</p>\n        </div>\n        <button type=\"button\" className=\"profile__add-button\" onClick={props.onAddPlace}></button>\n      </section>\n      <section className=\"cards\">\n        {props.cards.map((card) => (\n          <Card\n          card={card}\n          key={card._id}\n          link={card.link}\n          name={card.name}\n          likes={card.likes.length}\n          onCardClick={props.onCardClick}\n          onCardLike={props.onCardLike}\n          onCardDelete={props.onCardDelete}\n          />\n        ))}\n      </section>\n    </main>\n  )\n}\n\nexport default Main;\n","import React from 'react';\n\nfunction PopupWithForm(props) {\n  return (\n    <article className={`popup popup_type_${props.name} ${props.isOpen ? 'popup_opened' : ' '} `} >\n      <div className=\"popup__container\">\n        <button onClick={props.onClose} type=\"button\" className={`popup__close popup__close_${props.name}`}></button>\n        <h2 className=\"popup__title\">{props.title}</h2>\n        <form name={`popup-form-${props.name}`} className={`popup__form popup__form_${props.name}`} noValidate onSubmit={props.onSubmit}>\n          <fieldset className=\"popup__field\">\n            {props.children}\n            <button type=\"submit\" className=\"popup__submit\">{props.buttonText}</button>\n          </fieldset>\n        </form>\n      </div>\n    </article>\n  )\n}\n\nexport default PopupWithForm;\n","import PopupWithForm from \"./PopupWithForm\";\nimport React from 'react';\n\nfunction AddCardPopup(props) {\n\n  const[place, setPlace] = React.useState('');\n  const[link, setLink] = React.useState('');\n\n  function handleChangePlace(e) {\n    setPlace(e.target.value);\n  }\n\n  function handleChangeLink(e) {\n    setLink(e.target.value);\n  }\n\n  function handleSubmit(e) {\n      e.preventDefault();\n      props.onAddPlace(place, link);\n      setPlace('');\n      setLink('');\n  }\n\n  return (\n    <PopupWithForm name=\"add\" title=\"Новое место\" buttonText=\"Создать\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit}>\n      <input id=\"placename\" className=\"popup__input\" type=\"text\" name=\"placename\" placeholder=\"Название\" minLength=\"2\" maxLength=\"30\" required\n        value={place}\n        onChange={handleChangePlace}/>\n      <span className=\"popup__input-error\" id=\"placename-error\"></span>\n      <input id=\"link\" className=\"popup__input\" type=\"url\" name=\"link\" placeholder=\"Ссылка на картинку\" required\n        value={link}\n        onChange={handleChangeLink}/>\n      <span className=\"popup__input-error\" id=\"link-error\"></span>\n    </PopupWithForm>\n  )\n}\n\nexport default AddCardPopup;\n","import PopupWithForm from \"./PopupWithForm\";\nimport React from 'react';\nimport {CurrentUserContext} from '../context/CurrentUserContext.js'\n\nfunction EditProfilePopup(props) {\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n    const[name, setName] = React.useState('');\n    const[description, setDescription] = React.useState('');\n\n    function handleChangeName(e) {\n        setName(e.target.value)\n    }\n\n    function handleChangeDescription(e) {\n        setDescription(e.target.value)\n    }\n\n    React.useEffect(() => {\n      setName(currentUser ? currentUser.name : null);\n      setDescription(currentUser ? currentUser.about : null);\n    }, [currentUser]);\n\n    function handleSubmit(e) {\n      e.preventDefault();\n      props.onUpdateUser(name, description);\n    }\n\n  return (\n    <PopupWithForm name=\"edit\" title=\"Редактировать профиль\" buttonText=\"Создать\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit}>\n      <input id=\"name\" className=\"popup__input\" type=\"text\" name=\"username\" placeholder=\"Ваше имя\"  minLength=\"2\" maxLength=\"40\" required\n      value={name || ''}\n      onChange={handleChangeName}/>\n      <span className=\"popup__input-error\" id=\"name-error\"></span>\n      <input id=\"occupation\" className=\"popup__input\" type=\"text\" name=\"occupation\" placeholder=\"Род деятельности\"  minLength=\"2\" maxLength=\"200\" required\n      value={description || ''}\n      onChange={handleChangeDescription}/>\n      <span className=\"popup__input-error\" id=\"occupation-error\"></span>\n    </PopupWithForm>\n  )\n}\n\nexport default EditProfilePopup;\n","import PopupWithForm from \"./PopupWithForm\";\nimport React from 'react';\n\nfunction AvatarPopup(props) {\n\n  const ref = React.useRef('');\n\n    function handleSubmit(e) {\n        e.preventDefault();\n        props.onUpdateAvatar(ref.current.value);\n        ref.current.value = \"\";\n    }\n\n\n  return (\n    <PopupWithForm name=\"avatar\" title=\"Обновить аватар\" buttonText=\"Сохранить\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit}>\n      <input ref= {ref} id=\"av_link\" className=\"popup__input\" type=\"url\" name=\"av_link\" placeholder=\"Ссылка на фото\"  minLength=\"2\" required />\n      <span className=\"popup__input-error\" id=\"av_link-error\"></span>\n    </PopupWithForm>\n  )\n}\n\nexport default AvatarPopup;\n","function ImagePopup(props) {\n  return(\n    <article className={`popup popup_type_image-overlay ${props.isOpen ? 'popup_opened' : ' '}`}>\n      <figure className=\"popup__figure\">\n        <button type=\"button\" className=\"popup__close popup__close_image\" onClick={props.onClose}></button>\n        <img src={props.link} alt=\"#\" className=\"popup__image\" />\n        <figcaption className=\"popup__caption\">{props.name}</figcaption>\n      </figure>\n    </article>\n  )\n}\n\nexport default ImagePopup;\n","import React from 'react';\nimport api from '../utils/Api';\nimport Header from './Header';\nimport Footer from './Footer';\nimport Main from './Main';\nimport PopupWithForm from './PopupWithForm';\nimport AddCardPopup from './AddCardPopup';\nimport EditProfilePopup from './EditProfilePopup';\nimport AvatarPopup from './AvatarPopup';\nimport ImagePopup from './ImagePopup';\nimport { CurrentUserContext } from '../context/CurrentUserContext';\nimport '../index.css';\n\nfunction App() {\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n  const [isImagePopupOpen, setIsImagePopupOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState({});\n  const [currentUser, setCurrentUser] = React.useState();\n  const [cards, setCards] = React.useState([]);\n\n  React.useEffect(() => {\n    api.getInitialCards()\n      .then(res =>{\n        setCards(res)\n      })\n      .catch(err => {\n        console.log(`Ошибка: ${err}`)\n      })\n  }, [])\n\n  React.useEffect(() => {\n    api.getUserData()\n      .then(user => {\n        setCurrentUser(user);\n      })\n      .catch(err => {\n        console.log (`Ошибка: ${err}`)\n      });\n  }, []);\n\n  React.useEffect(() => {\n    window.addEventListener('keydown', (e) => {\n      if (e.key === 'Escape') {\n        closeAllPopups();\n      }\n    })\n  },[]);\n\n  function overlayClick(e) {\n    if (e.classList.contains('popup')){\n      closeAllPopups()\n    }\n  }\n\n  function handleUpdateAvatar(link) {\n    api.updateAvatar(link)\n    .then(user => {\n      setCurrentUser(user);\n      closeAllPopups();\n    })\n    .catch(err => {\n      console.log (`Ошибка: ${err}`)\n    });\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    api.likeCardStatus(card._id, !isLiked)\n    .then((newCard) => {\n      const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n      setCards(newCards);\n    })\n    .catch(err => {\n      console.log(`Ошибка: ${err}`)\n    })\n  }\n\n  function handleCardDelete(cardId) {\n    api.deleteCard(cardId)\n      .then(() => {\n        setCards(cards.filter((c) => c._id !== cardId));\n      })\n      .catch(err => {\n        console.log(`Ошибка: ${err}`)\n      })\n  }\n\n  function handleAddPlace(name, link) {\n    api.postCard(name, link)\n     .then((res) => {\n      setCards([res, ...cards])\n    })\n    .catch(err => {\n      console.log (`Ошибка: ${err}`)\n    });\n  }\n\n  function handelAddPlace(){\n    setIsAddPlacePopupOpen(true)\n  }\n\n  const handleEditAvatarClick = () => {\n    setIsEditAvatarPopupOpen(true)\n  };\n\n  const handleEditProfileClick = () => {\n    setIsEditProfilePopupOpen(true)\n  };\n\n  const closeAllPopups = () => {\n    setIsAddPlacePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsImagePopupOpen(false);\n    setSelectedCard(false);\n  }\n\n  const handleCardClick = (card) => {\n    setIsImagePopupOpen(true);\n    setSelectedCard(card)\n  }\n\n   return (\n    <div className=\"body\">\n      <CurrentUserContext.Provider value={currentUser}>\n        <Header />\n        <Main\n         cards={cards}\n         onEditProfile={handleEditProfileClick}\n         onEditAvatar={handleEditAvatarClick}\n         onCardClick={handleCardClick}\n         onCardLike={handleCardLike}\n         onCardDelete={handleCardDelete}\n         onAddPlace={handelAddPlace} />\n        <Footer />\n        <PopupWithForm\n          name=\"delete\"\n          title='Вы уверены?'\n          buttonText='Удалить'\n          onClose={closeAllPopups}\n          overlay={overlayClick}/>\n        <AddCardPopup\n          isOpen={isAddPlacePopupOpen}\n          onClose={closeAllPopups}\n          overlay={overlayClick}\n          onAddPlace={handleAddPlace}/>\n        <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          onClose={closeAllPopups}\n          overlay={overlayClick}/>\n        <AvatarPopup\n          isOpen={isEditAvatarPopupOpen}\n          onClose={closeAllPopups}\n          overlay={overlayClick}\n          onUpdateAvatar={handleUpdateAvatar}/>\n        <ImagePopup\n          isOpen={isImagePopupOpen}\n          onClose={closeAllPopups}\n          card={selectedCard}\n          link={selectedCard.link}\n          name={selectedCard.name}\n          overlay={overlayClick}/>\n      </CurrentUserContext.Provider>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}